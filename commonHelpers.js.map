{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.png","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEpSURBVHgBrZXtEcIgDIZTzp5/3URHcSPpJLpBXcVd+FPwiqQt1y+SUNv3DuUkvA+0SQQg5Jx7WOt8zsBYyudEmXsPuijg3bbtB1ipa/jQYQ+UZVmBpHjyprEvyBTGSjf52zwbssdchBxhTkI4c2vtTTJMxcwgw6RObZReXDycMSYBcTWuQX/6RqcMQpCmIOPNHbG30SKAgkjmU8AJBJ3PpQ5GOO2KCYVFGEaFa9J+EbCEDIAsc5SCTCkFPjWXlHWD2Jvw5MNP2b1HBEzN42OZvhMRwmURly1cCvfrszSlC41PxR6SKjQs3g4Qg6z9PpdBxsitIhWDXrPDcZCtWplHHQEhzY+AiOZ7IJz5qg5iWygK/wjfFwD+T18pdfXe37e0j07jTeTBPZYfWztI8097RKsAAAAASUVORK5CYII=\"","import './css/styles.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport errorIcon from './img/bi_x-octagon.png';\nimport axios from 'axios';\n\n\ndocument.addEventListener('submit', onFormSubmit);\n\nfunction showImage(searchName) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const END_POINT = '?';\n    const PARAMS = new URLSearchParams({\n    key:'42187332-ff85343869753156c1a8d7a61',\n    q: `${searchName}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    })\n    const url = BASE_URL+END_POINT+PARAMS;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error(error);\n      throw new Error('Error fetching images from the server');\n    });\n}\n\nconst lightboxConfig = {\n  captionsTitle: 'attr',\n  captionsData: \"alt\",\n}\nconst lightbox = new SimpleLightbox('.gallery a', lightboxConfig);\n\nfunction showLoader() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'block';\n  document.querySelector('.gallery').innerHTML = \"\";\n}\n\nfunction hideLoader() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'none';\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const searchName = e.target.elements.name.value;\n\n  if (searchName.trim().length === 0) {\n    iziToast.error({\n      message: 'Please enter a valid search term!',\n      position: 'topRight',\n      messageColor: '#fafafb',\n      backgroundColor: '#ef4040',\n      iconUrl: errorIcon,\n      iconColor: '#ffffff',\n    });\n    return; \n  }\n  \n  showLoader();\n\n    showImage(searchName)\n      .then(data => {\n        if (searchName.length > 0 && data.hits.length > 0) {\n          renderImages(data.hits);\n          lightbox.refresh();\n        } else {\n          iziToast.error({\n            message: 'Sorry, there are no images matching<br> your search query. Please try again!',\n            position: 'topRight',\n            messageColor: '#fafafb',\n            backgroundColor: '#ef4040',\n            iconUrl: errorIcon,\n            iconColor: '#ffffff',\n          });\n        }\n      })\n      .finally(() => {\n        hideLoader();\n        e.target.reset();\n      });\n  }\n\nfunction imageTemplate({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\" \n      alt=\"${tags}\"\n    >\n        <div class=\"all-image-info\">\n    <p class=\"image-info\"><span class=\"property-name\">Likes</span>${likes}</p>\n        <p class=\"image-info\"><span class=\"property-name\">Views</span>${views}</p>\n            <p class=\"image-info\"><span class=\"property-name\">Comments</span>${comments}</p>\n                <p class=\"image-info\"><span class=\"property-name\">Downloads</span>${downloads}</p>\n                </div>\n    </a>\n  </li>`;\n}\n\nfunction imagesTemplate(images) {\nreturn images.map(imageTemplate).join('');\n}\n\nfunction renderImages(images) {\n  const markup = imagesTemplate(images);\n  document.querySelector('.gallery').innerHTML = markup;\n}\n\n"],"names":["errorIcon","onFormSubmit","showImage","searchName","BASE_URL","END_POINT","PARAMS","url","response","error","lightboxConfig","lightbox","SimpleLightbox","showLoader","loader","hideLoader","e","iziToast","data","renderImages","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","images","markup"],"mappings":"wvBAAA,MAAeA,EAAA,qjBCSf,SAAS,iBAAiB,SAAUC,CAAY,EAEhD,SAASC,EAAUC,EAAY,CAC3B,MAAMC,EAAW,2BACXC,EAAY,IACZC,EAAS,IAAI,gBAAgB,CACnC,IAAI,qCACJ,EAAG,GAAGH,CAAU,GAChB,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAK,EACKI,EAAMH,EAASC,EAAUC,EAEjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAMA,CAAK,EACb,IAAI,MAAM,uCAAuC,CAC7D,CAAK,CACL,CAEA,MAAMC,EAAiB,CACrB,cAAe,OACf,aAAc,KAChB,EACMC,EAAW,IAAIC,EAAe,aAAcF,CAAc,EAEhE,SAASG,GAAa,CACpB,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,QACvB,SAAS,cAAc,UAAU,EAAE,UAAY,EACjD,CAEA,SAASC,GAAa,CACpB,MAAMD,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEA,SAASb,EAAae,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMb,EAAaa,EAAE,OAAO,SAAS,KAAK,MAE1C,GAAIb,EAAW,OAAO,SAAW,EAAG,CAClCc,EAAS,MAAM,CACb,QAAS,oCACT,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,QAASjB,EACT,UAAW,SACjB,CAAK,EACD,MACD,CAEDa,IAEEX,EAAUC,CAAU,EACjB,KAAKe,GAAQ,CACRf,EAAW,OAAS,GAAKe,EAAK,KAAK,OAAS,GAC9CC,EAAaD,EAAK,IAAI,EACtBP,EAAS,QAAO,GAEhBM,EAAS,MAAM,CACb,QAAS,+EACT,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,QAASjB,EACT,UAAW,SACvB,CAAW,CAEX,CAAO,EACA,QAAQ,IAAM,CACbe,IACAC,EAAE,OAAO,OACjB,CAAO,CACJ,CAEH,SAASI,EAAc,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC5F,MAAO;AAAA,kCACuBL,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA,oEAGmDC,CAAK;AAAA,wEACDC,CAAK;AAAA,+EACEC,CAAQ;AAAA,oFACHC,CAAS;AAAA;AAAA;AAAA,QAI7F,CAEA,SAASC,EAAeC,EAAQ,CAChC,OAAOA,EAAO,IAAIT,CAAa,EAAE,KAAK,EAAE,CACxC,CAEA,SAASD,EAAaU,EAAQ,CAC5B,MAAMC,EAASF,EAAeC,CAAM,EACpC,SAAS,cAAc,UAAU,EAAE,UAAYC,CACjD"}